{% extends 'base.html.twig' %}

{% block title %}Ajouter un film - Admin{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/admin.css') }}">
{% endblock %}

{% block body %}
<div class="container py-5">
    <div class="admin-form-container">
        <h2>
            <i class="fas fa-plus-circle me-2"></i>Ajouter un nouveau film
        </h2>
        {{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    {{ form_label(form.titre, 'Titre du film', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.titre, {'attr': {'class': 'form-control', 'placeholder': 'Ex: Inception'}}) }}
                    {{ form_errors(form.titre) }}
                    <small class="form-text">Le titre complet du film</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    {{ form_label(form.annee, 'Année de sortie', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.annee, {'attr': {'class': 'form-control', 'placeholder': 'Ex: 2023'}}) }}
                    {{ form_errors(form.annee) }}
                    <small class="form-text">Année de production</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    {{ form_label(form.duree, 'Durée (minutes)', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.duree, {'attr': {'class': 'form-control', 'placeholder': 'Ex: 120'}}) }}
                    {{ form_errors(form.duree) }}
                    <small class="form-text">Durée totale en minutes</small>
                </div>
            </div>
        </div>
        <div class="form-group">
            {{ form_label(form.synopsis, 'Synopsis', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.synopsis, {'attr': {'class': 'form-control', 'rows': 4, 'placeholder': 'Résumé de l\'histoire...'}}) }}
            {{ form_errors(form.synopsis) }}
            <small class="form-text">Description détaillée du film</small>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    {{ form_label(form.prixLocationDefault, 'Prix de location', {'label_attr': {'class': 'form-label'}}) }}
                    <div class="input-group">
                        {{ form_widget(form.prixLocationDefault, {'attr': {'class': 'form-control', 'placeholder': 'Ex: 4.99'}}) }}
                        <span class="input-group-text">€</span>
                    </div>
                    {{ form_errors(form.prixLocationDefault) }}
                    <small class="form-text">Prix en euros pour la location</small>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    {{ form_label(form.note, 'Note (0-5)', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.note, {'attr': {'class': 'form-control', 'placeholder': 'Ex: 4.5', 'min': 0, 'max': 5, 'step': 0.1}}) }}
                    {{ form_errors(form.note) }}
                    <small class="form-text">Note sur 5 (0.1 à 5.0)</small>
                </div>
            </div>
        </div>
        <div class="form-group">
            {{ form_label(form.cheminAffiche, 'URL de l\'affiche', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.cheminAffiche, {'attr': {'class': 'form-control', 'placeholder': 'https://exemple.com/affiche.jpg'}}) }}
            {{ form_errors(form.cheminAffiche) }}
            <small class="form-text">Lien direct vers l'image de l'affiche</small>
        </div>
        <div class="form-group">
            {{ form_label(form.genres, 'Genres', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.genres, {'attr': {'class': 'form-select', 'size': 4}}) }}
            {{ form_errors(form.genres) }}
            <small class="form-text">Maintenez Ctrl (Cmd sur Mac) pour sélectionner plusieurs genres</small>
        </div>
        <div class="d-flex justify-content-between mt-4 pt-3 border-top">
            <a href="{{ path('admin_films') }}" class="btn btn-secondary btn-admin"><i class="fas fa-arrow-left me-2"></i>Retour à la liste</a>
            <div>
                <button type="reset" class="btn btn-outline-secondary btn-admin me-2"><i class="fas fa-redo me-2"></i>Réinitialiser</button>
                <button type="submit" class="btn btn-success btn-admin"><i class="fas fa-plus me-2"></i>Ajouter le film</button>
            </div>
        </div>
        {{ form_end(form) }}
    </div>
</div>
{% endblock %}